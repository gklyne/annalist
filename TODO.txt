# Explorations

## OAuth testing:

1. Apply OAuth/OpenID Connect authentication to http://localhost:8000/rovserver/ (using Google auth service)
   / Initial authentication proof of concept
   - retrive additional info
     + email accessible through id_token member of credentials value, but not clear what else]
     + not sure if this is secure; I think it *should* be, as it's obtained by HTTPS to AP endpoint
     + awaiting feedback from Q to Google group
   - try alternative implementation using Django session directly
   - try implicit flow

2. Create credentials for roverlay command utility and require those for activating the service.
   - need design for credential access/storage
   -- consider: command client generates unique code per user, and uses that to initiate auth via the service.  On first attempt, it fails as user isn't authorized;  tell user to browse to endpoint to authorize the user.
   -- or: register an app with app name and userid, returns secret token to plug in to app.  This is similar to Google's mechanism for deaing with non-browser apps.  App logs in with app name and token, uses service with credentials of registered user.  Use is responsible for protecting credentials, but can only expose their own data.

3. Revise service so that user sees only their own ROs when listed, and can apply access control to use of ROs by others.

4. Create separate service endpoint to handle authorization requests (using UMA elements where appropriate).


See also:

https://github.com/omab/python-social-auth
http://python-social-auth.readthedocs.org/en/latest/index.html
https://github.com/jcleblanc/openid-connect/tree/master/paypal-python
https://github.com/rohe/pyoidc
https://developers.google.com/api-client-library/python/guide/aaa_oauth


## Dynamic form interface



## Authorization

* Assume use of annalist form data under control of suitable authority
* Focus on for of authorization data
* Back-fit to form interface for creation of data; figure what seeding is needed

